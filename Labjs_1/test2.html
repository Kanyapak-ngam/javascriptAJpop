
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title></title>
    </head>
<body>
    <h2>Users</h2>

    <select id="userSelcet"></select>

    <h3>Posts</h3>
    <ul id ="postsList">

    </ul>
        
    <script>
        const userSelcet = document.getElementById("userSelcet");//dropdown
        const postsList = document.getElementById("postsList");

        async function loadUsers() {
            const res = await fetch('https://jsonplaceholder.typicode.com/users');
            const users = await res.json();
            
            users.forEach(user=>{
                const option=document.createElement("option");
                option.value = user.id;
                option.textContent = user.name;
                userSelcet.appendChild(option);

            })
        
        }
        async function loadPostsByUser(user_Id) {
            const res = await fetch("https://jsonplaceholder.typicode.com/posts?userId="+user_Id);
            const posts = await res.json();
            
            postlist.innerHTML = ""; // Clear previous posts
            posts.forEach(post => {
                const li = document.createElement("li");
                li.textContent = post.title;
                postsList.appendChild(li);
            });
        }

        userSelcet.addEventListener("change", (e) => {
            const selectUserID=userSelect.value;
            loadPostsByUser(selectUserID);
            
        });
        loadUsers();

       
             
    </script>
</body>
</html>
































       <!-- <!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Playing Video event </title>
    </head>
<body>
    <script>

        // fetch('https://jsonplaceholder.typicode.com'
        // res=>res.json()).then(
        //     json=>console.log(json) 
        // )

        // fetch('https://jsonplaceholder.typicode.com/posts/1'),{
        //      method: 'POST',
        //      body: JSON.stringify{
        //          "title":"กัมพูชา บลา บลา",
        //         "body":"F F F",
        //         "userId":1

        // },
        //      headers:{
        //         "content-type":"application/json; charset=UTF-8"
        //      }
            
        //     }.then(
        //         res=>res.json()).then(
        //             json=>console.log(json
        //         )
        //     )   

        // fetch('https://jsonplaceholder.typicode.com/posts/1',{
        //     method:'PUT',
        //     body: JSON.stringify({
        //         "id":1,
        //         "title":"ชนะแล้วว",
        //         "body":"ไทย.....",
        //         userId:1
        // }
        //     ),
        //     headers:{
        //         "content-type":"application/json; charset=UTF-8"
        //     }
        // }).then(
        //     res=>res.json()).then(
        //         json=>console.log(json)
        //     )
        //     etch('https://jsonplaceholder.typicode.com/posts/1/comments',{ //comments?postId=1
        //     method:'DELETE',
            
        // }).then(
        //     res=>res.json()).then(
        //         json=>console.log(json)
        //     )
             
    </script>
</body>
</html>

       
        -->